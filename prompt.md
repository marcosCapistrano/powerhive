Review this codebase, and we need to add a few things:
first, this is supposed to be an application that will be deployed locally on a server inside a bitcoin mining farm, this application needs to discover all miners running, and according to things like: is that machine supposed to be managed? what is it max preset? etc, we will change their presets so that we can fit the total energy generation.

The energy generation data is gottem from https://energy-aggregator.fly.dev/data/latest, which returns:
{"success":true,"count":10,"data":[{"timestamp":"2025-11-03T14:49:01.627129Z","plant_id":"complexo-paranhos","total_generation":5047.508,"container_consumption":{"container_eles":516.1445,"container_mazp":816.3255}},{"timestamp":"2025-11-03T14:48:31.656137Z","plant_id":"complexo-paranhos","total_generation":5047.508,"container_consumption":{"container_eles":516.1445,"container_mazp":816.3255}},{"timestamp":"2025-11-03T14:48:01.610392Z","plant_id":"complexo-paranhos","total_generation":4998.088,"container_consumption":{"container_eles":516.0891875,"container_mazp":807.7753125}},{"timestamp":"2025-11-03T14:47:31.60569Z","plant_id":"complexo-paranhos","total_generation":4998.088,"container_consumption":{"container_eles":516.0891875,"container_mazp":807.7753125}},{"timestamp":"2025-11-03T14:47:01.606498Z","plant_id":"complexo-paranhos","total_generation":5005.343,"container_consumption":{"container_eles":517.285,"container_mazp":802.2821875}},{"timestamp":"2025-11-03T14:46:31.599926Z","plant_id":"complexo-paranhos","total_generation":5005.343,"container_consumption":{"container_eles":517.285,"container_mazp":802.2821875}},{"timestamp":"2025-11-03T14:46:01.601827Z","plant_id":"complexo-paranhos","total_generation":4998.776,"container_consumption":{"container_eles":517.6376875,"container_mazp":794.0095}},{"timestamp":"2025-11-03T14:45:31.606693Z","plant_id":"complexo-paranhos","total_generation":4998.776,"container_consumption":{"container_eles":517.6376875,"container_mazp":794.0095}},{"timestamp":"2025-11-03T14:45:01.609842Z","plant_id":"complexo-paranhos","total_generation":5026.839,"container_consumption":{"container_eles":516.188,"container_mazp":785.5251875}},{"timestamp":"2025-11-03T14:44:31.634033Z","plant_id":"complexo-paranhos","total_generation":5026.839,"container_consumption":{"container_eles":516.188,"container_mazp":785.5251875}}]}

We need to poll this data every 15 seconds so that we can get the latest readings on total generation and the consumption of each container. The sum of all container consumptions is the total consumption.

Having this data on total generation and consumption, we need to keep energy consumption below energy generation, that is done by setting the presets of the machines to a lower or higher setting (not over the max_preset value for that model).
The energy generation usually is way higher than the consumption, but sometimes it happens that production gets down, we need to react quickly and set the presets of the machines to a optimal level, where energy consumption is near generation (we need to set some kind of "margin" we can set on the dashboard, so that the user can set a safety margin (because enery consumption takes some time to adapt, the presets doesnt change consumption immediately)). Other thing is, when we query what are the available presets, it also shows the expected consumption of that preset, we need to also have that in our database, the consumption that each preset is expected to consume (so that we can use those values to plan which configuration of machines presets we need to set on the farm) (show that in the dashboard also, right next to each models max preset configuration (show the preset and its expected consumption)).

Display on the dashboard a chart of generation x consumption using a proper chart library.

And since this is a very delicate project, at the end of implementing these, review the entire codebase and ultrathink to check for any possible dangers of running this application on a bitcoin mining farm. Possible problems would be this programs vulnerability (but it is only accessed by sshing into the machine there), overheating the machines if the max preset is not respected, overheating machines if the program tries to set a preset without knowing the models correctly or something like that, overloading the hydroeletric plant somehow, eletric phase/frequency  problems, and think of other possible problems.

Also if in doubt, we can ask the hydroplant owners if there any limitations to what we can/should do, for example, can we weely neely change the consumption? is there something that could happen, do they prefer a safety margin or can we try to get as close as we want, things like that..

api key for the energy aggregator service: kdM_bTzzDxLxlpOf9ki29S9LyVA-hFmx

In the end, also report how the application makes the balancing of energy consumption vs generation, how does it decide which machines to lower or higher?